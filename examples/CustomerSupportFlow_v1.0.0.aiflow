{
  "metadata": {
    "name": "CustomerSupportFlow",
    "version": "1.0.0",
    "description": "Multi-agent workflow voor geautomatiseerde level 1 klantenondersteuning.",
    "created": "2025-12-02T20:15:00Z",
    "modified": "2025-12-02T20:15:00Z"
  },
  "flow": {
    "start": "agent1",
    "logic": {
      "agent1": [
        {
          "if": "output.ticket_type == 'technical'",
          "then": "agent2",
          "description": "Routeer technische tickets naar de engineer."
        },
        {
          "if": "output.ticket_type == 'billing'",
          "then": "agent3",
          "description": "Routeer factuurvragen direct naar de responder."
        },
        {
          "if": "output.ticket_type == 'general'",
          "then": "agent3",
          "description": "Algemene vragen direct naar de responder."
        }
      ],
      "agent2": [
        {
          "if": "output.solution_found == true",
          "then": "agent3",
          "description": "Als er een oplossing is gevonden, laat de responder een mail opstellen."
        }
      ]
    }
  },
  "agents": {
    "agent1": {
      "name": "TriageBot",
      "role": "Classifier",
      "provider": "openai",
      "model": "gpt-4.2-mini",
      "prompt": "system_triage.txt",
      "config": {
        "temperature": 0.1,
        "max_tokens": 500
      },
      "output_format": "json",
      "description": "Classificeert binnenkomende tickets in technical / billing / general."
    },
    "agent2": {
      "name": "TechSolver",
      "role": "Engineer",
      "provider": "openai",
      "model": "gpt-4-turbo",
      "prompt": "system_tech.txt",
      "config": {
        "temperature": 0.4,
        "max_tokens": 2000
      },
      "tools": ["web_search", "stack_overflow_api"],
      "output_format": "json",
      "description": "Zoekt technische oorzaken en oplossingen voor L1-incidenten."
    },
    "agent3": {
      "name": "Responder",
      "role": "Copywriter",
      "provider": "anthropic",
      "model": "claude-3-5-sonnet",
      "prompt": "system_responder.txt",
      "config": {
        "temperature": 0.7,
        "max_tokens": 1000
      },
      "output_format": "text",
      "description": "Schrijft nette, klantvriendelijke e-mailantwoorden."
    }
  },
  "tools": {
    "web_search": {
      "type": "http",
      "endpoint": "https://api.search.com/v1",
      "method": "GET",
      "description": "Zoek documentatie op het web."
    },
    "stack_overflow_api": {
      "type": "http",
      "endpoint": "https://api.stackoverflow.com/v1/search",
      "method": "GET",
      "description": "Zoek naar bestaande oplossingen in Stack Overflow threads."
    }
  },
  "memory": {
    "enabled": false
  }
}
